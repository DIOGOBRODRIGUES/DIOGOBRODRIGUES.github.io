<!doctype html>
<html lang="pt-BR">

<head>
    <meta charset="utf-8">
    <title>Aula 8: Gerenciamento de Estado com Hook</title>

    <meta name="description" content="Aula 8 de Programa√ß√£o Web: Gerenciamento de Estado com Hook">
    <meta name="author" content="Prof. Dr. Diogo Francisco Borba Rodrigues">

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="../../../reveal.js-master/dist/reset.css">
    <link rel="stylesheet" href="../../../reveal.js-master/dist/reveal.css">
    <link rel="stylesheet" href="../../../reveal.js-master/dist/theme/dracula.css" id="theme">

    <!-- Syntax Highlighting -->
    <link rel="stylesheet" href="../../../reveal.js-master/plugin/highlight/monokai.css">
</head>

<body>

    <div class="reveal">
        <div class="slides">
            <!-- Slide 1 - T√≠tulo da Aula -->
            <section>
                <p>üèõÔ∏è Centro Universit√°rio Maur√≠cio de Nassau</p>
                <h3>Aula 8: Gerenciamento de Estado com Hook</h3>
                <p>Prof. Dr. Diogo Francisco Borba Rodrigues</p>
                <a href="https://www.linkedin.com/in/diogo-francisco-borba-rodrigues-3a1b5179/" target="_blank"><i
                        class="fab fa-linkedin"></i> </a>
                <a href="https://github.com/DIOGOBRODRIGUES" target="_blank"><i class="fab fa-github"></i> </a>
            </section>

            <!--Slide 2 Respondendo a eventos-->
            <section>
                <h2>Respondendo a eventos</h2>
                <p>
                    O React permite que voc√™ adicione manipuladores de eventos ao seu JSX. Os manipuladores de eventos
                    s√£o fun√ß√µes que ser√£o acionadas em resposta a intera√ß√µes como clicar, passar o mouse, focar entradas
                    de formul√°rio e assim por diante.
                </p>
            </section>

            <!--Slide 3 Adicionando manipuladores-->
            <section>
                <h2>Adicionando manipuladores de eventos</h2>
                <p>
                    Para adicionar um manipulador de eventos, voc√™ deve definir uma fun√ß√£o e pass√°-la como prop para a
                    tag JSX apropriada.
                </p>
                <pre data-id="code-animation"><code class="hljs javascript" data-trim >
              export default function Button() {
                return (
                  <button>
                    I don't do anything
                  </button>
                );
              }
                </code></pre>
            </section>

            <!--Slide 4 Fazendo algo com o evento-->
            <section>
                <h2>Fazendo algo com o evento</h2>
                <p>
                    Para exibir uma mensagem ao clicar, siga estes passos:
                </p>
                <ol>
                    <li>Declare uma fun√ß√£o <code>handleClick</code> no componente.</li>
                    <li>Adicione a l√≥gica dentro da fun√ß√£o (use <code>alert</code>).</li>
                    <li>Adicione <code>onClick={handleClick}</code> ao <code>&lt;button&gt;</code> JSX.</li>
                </ol>
                <pre data-id="code-animation"><code class="hljs javascript" data-trim data-line-numbers>
              export default function Button() {
                function handleClick() {
                  alert('You clicked me!');
                }
              
                return (
                  <button onClick={handleClick}>
                    Click me
                  </button>
                );
              }
                </code></pre>
            </section>

            <!--Slide 5 Usando Manipuladores inline-->
            <section>
                <h2>Usando manipuladores inline</h2>
                <p>
                    Voc√™ pode definir manipuladores de eventos inline com fun√ß√µes an√¥nimas:
                </p>
                <pre data-id="code-animation"><code class="hljs javascript" data-trim ><script type="text/template">
                                export default function Button() {
                                    function handleClick() {
                                      alert('You clicked me!');
                                    }
                                
                                return (
                                  <button onClick={() => alert('You clicked me!')}>
                                    Click me
                                  </button>
                                );
                                }
            </script></code></pre>
            </section>

            <!--Slide 6 Passando fun√ß√µes corretamente-->
            <section>
                <h2>Passando fun√ß√µes corretamente</h2>
                <p>N√£o passe a fun√ß√£o diretamente como <code>onClick={handleClick()}</code>. Ao inv√©s disso, fa√ßa assim:
                </p>
                <pre data-id="code-animation"><code class="hljs javascript" data-trim ><script type="text/template">
                  <button onClick={handleClick}>   // Correto

                  <button onClick={handleClick()}> // Incorreto
                </script></code></pre>
                <p>
                    Fun√ß√µes devem ser passadas, n√£o chamadas diretamente, para evitar que elas sejam executadas durante
                    a renderiza√ß√£o.
                </p>
            </section>

            <!--Slide 7 Lendo props em manipuladores de eventos-->
            <section>
                <h2>Lendo props em manipuladores de eventos</h2>
                <p>
                    Manipuladores de eventos t√™m acesso aos <code>props</code> do componente:
                </p>
                <pre data-id="code-animation"><code class="hljs javascript" data-trim data-line-numbers="|1-7|9-19"><script type="text/template">
               function AlertButton({ message, children }) {
                return (
                  <button onClick={() => alert(message)}>
                    {children}
                  </button>
                );
              }
              
              export default function Toolbar() {
                return (
                  <div>
                    <AlertButton message="Playing!">
                      Play Movie  //children
                    </AlertButton>
                    <AlertButton message="Uploading!">
                      Upload Image // children
                    </AlertButton>
                  </div>
                );
              }
            </script></code></pre>
            </section>

            <!--Slide 8 children-->
            <section data-transition="slide" data-background="#4d7e65" data-background-transition="zoom">
                <h2>üìå Lembrete</h2>
                <p>
                    o par√¢metro <code>children</code> √© uma prop especial em React que √© usada para representar o conte√∫do que √© passado entre as tags de abertura e fechamento de um componente.
                </p>
            </section>
            <!--Slide 9 Estado: Mem√≥ria de um Componente-->
            <section>
                <h2>Estado: Mem√≥ria de um Componente</h2>
                <p>
                  Os componentes geralmente precisam mudar o que est√° na tela como resultado de uma intera√ß√£o. Por exemplo, ao digitar em um formul√°rio ou ao clicar em um bot√£o de "pr√≥ximo" em um carrossel de imagens.
                </p>
                <p>
                  No React, essa "mem√≥ria" espec√≠fica de um componente √© chamada de <strong>estado</strong>.
                </p>
              </section>
             <!--Slide 10 useState-->
              <section>
                <h2>Quando uma vari√°vel regular n√£o √© suficiente</h2>
                <p>
                  Um componente que renderiza uma galeria de imagens, onde clicar em ‚ÄúNext‚Äù deve alterar a imagem, mas uma vari√°vel local <code>index</code> n√£o persiste entre renderiza√ß√µes e n√£o aciona re-renderiza√ß√£o.
                </p>
            
              </section>

              <!--Slide 11 useState-->
              <section>
                <h2>Quando uma vari√°vel regular n√£o √© suficiente</h2>
             
                <pre data-id="code-animation"><code class="hljs javascript" data-trim data-line-numbers><script type="text/template">
              export default function Gallery() {
                let index = 0;
              
                function handleClick() {
                  index = index + 1;
                }
              
                let sculpture = sculptureList[index];
                return (
                  <>
                    <button onClick={handleClick}>Next</button>
                    <h2>{sculpture.name}</h2>
                  </>
                );
              }
            </script></code></pre>
              </section>
            <!--Slide 12 useState-->
              <section>
                <h2>Adicionando uma vari√°vel de estado</h2>
                <p>
                  Para persistir a vari√°vel entre renderiza√ß√µes, √© necess√°rio usar o Hook <code>useState</code> para criar o estado:
                </p>
                <pre data-id="code-animation"><code class="hljs javascript" data-trim data-line-numbers><script type="text/template">

              import { useState } from 'react';
              
              export default function Gallery() {
                const [index, setIndex] = useState(0);
              
                function handleClick() {
                  setIndex(index + 1);
                }
            </script></code></pre>
              </section>
            <!--Slide 13 useState-->
              <section>
                <h2>Conhe√ßa seu primeiro Hook: <code>useState</code></h2>
                <p>
                  O <code>useState</code> √© um Hook que cria uma vari√°vel de estado e uma fun√ß√£o que a atualiza. 
                </p>
                <p>
                  Exemplo:
                </p>
                <pre><code>
              const [index, setIndex] = useState(0);
                </code></pre>
                <p>
                  Esse c√≥digo inicializa a vari√°vel <code>index</code> com valor <code>0</code> e retorna uma fun√ß√£o <code>setIndex</code> para atualiz√°-la.
                </p>
              </section>
            <!--Slide 14 useState-->
              <section>
                <h2>Exemplo completo: Galeria de Imagens</h2>
                <pre data-id="code-animation"><code class="hljs javascript" data-trim data-line-numbers="|1-9|11-17"><script type="text/template">
              import { useState } from 'react';
              import { sculptureList } from './data.js';
              
              export default function Gallery() {
                const [index, setIndex] = useState(0);
              
                function handleClick() {
                  setIndex(index + 1);
                }
              
                let sculpture = sculptureList[index];
                return (
                  <>
                    <button onClick={handleClick}>Next</button>
                    <h2>{sculpture.name} by {sculpture.artist}</h2>
                    <img src={sculpture.url} alt={sculpture.alt} />
                  </>
                );
              }
            </script></code></pre>
              </section>
            
              <!--Slide 15 useState-->
              <section>
                <h2>Dando a um componente m√∫ltiplas vari√°veis de estado</h2>
                <p>
                  Voc√™ pode ter quantas vari√°veis de estado desejar. No exemplo a seguir,  temos um √≠ndice <code>index</code> e uma vari√°vel booleana <code>showMore</code> que alterna a exibi√ß√£o de detalhes.
                </p>
                
              </section>


              <!--Slide 16 useState-->
              <section>
                <h2>Dando a um componente m√∫ltiplas vari√°veis de estado</h2>
                <pre data-id="code-animation"><code class="hljs javascript" data-trim data-line-numbers="|1-13|15-23"><script type="text/template">
              import { useState } from 'react';
              
              export default function Gallery() {
                const [index, setIndex] = useState(0);
                const [showMore, setShowMore] = useState(false);
              
                function handleNextClick() {
                  setIndex(index + 1);
                }
              
                function handleMoreClick() {
                  setShowMore(!showMore);
                }
              
                return (
                  <>
                    <button onClick={handleNextClick}>Next</button>
                    <button onClick={handleMoreClick}>
                      {showMore ? 'Hide' : 'Show'} details
                    </button>
                    {showMore && <p>More details here...</p>}
                  </>
                );
              }
            </script></code></pre>
              </section>

              <section>
                <h2>Ex√©ricios</h2>
                <p>Pr√°tique com alguns desafios  <a href="https://react.dev/learn/state-a-components-memory#challenges" target="_blank">aqui</a></p>
              </section>

              <!--Slide 17 Renderizar e Confirmar-->
              <section>
                <h2>Renderizar e Commit</h2>
                <p>
                  Antes que seus componentes sejam exibidos na tela, eles devem ser renderizados pelo React. 
                  Este processo de renderiza√ß√£o passa por tr√™s etapas:
                </p>
                <ol>
                  <li>Acionar uma renderiza√ß√£o</li>
                  <li>Renderiza√ß√£o do componente</li>
                  <li>Confirmando no DOM</li>
                </ol>
              </section>
            
              <!--Slide 18 Renderizar e Confirmar-->
              <section>
                <h2>Etapa 1: Acionar uma renderiza√ß√£o</h2>
                <p>H√° dois motivos para um componente ser renderizado:</p>
                <ul>
                  <li>√â a renderiza√ß√£o inicial do componente.</li>
                  <li>O estado do componente (ou de um de seus ancestrais) foi atualizado.</li>
                </ul>
                <p>
                  Exemplo de renderiza√ß√£o inicial:
                </p>
                <pre data-id="code-animation"><code class="hljs javascript" data-trim ><script type="text/template">
              import { createRoot } from 'react-dom/client';
              import Image from './Image';
              
              const root = createRoot(document.getElementById('root'));
              root.render(<Image />);
                </script> </code></pre>
              </section>
              <!--Slide 19 Renderizar e Confirmar-->
              <section>
                <h2>Etapa 2: React Renderiza seus Componentes</h2>
                <p>
                  Ap√≥s disparar uma renderiza√ß√£o, o React chama seus componentes para descobrir o que exibir na tela.
                </p>
                <p>
                  Para renderiza√ß√µes subsequentes, o React chama o componente que acionou a atualiza√ß√£o de estado.
                </p>
                <pre data-id="code-animation"><code class="hljs javascript" data-trim ><script type="text/template">
              export default function Gallery() {
                return (
                  <section>
                    <h1>Inspiring Sculptures</h1>
                    <Image />
                    <Image />
                    <Image />
                  </section>
                );
              }
            </script></code></pre>
              </section>
              <!--Slide 20 Renderizar e Confirmar-->
              <section>
                <h2>A Renderiza√ß√£o deve ser Pura</h2>
                <ul>
                  <li>
                    <strong>Mesmas entradas, mesma sa√≠da</strong>: Um componente deve sempre retornar o mesmo JSX para as mesmas entradas.
                  </li>
                  <li>
                    <strong>Cuida da sua pr√≥pria vida</strong>: Um componente n√£o deve alterar objetos ou vari√°veis externas.
                  </li>
                </ul>
                <p>
                  Isso ajuda a evitar bugs confusos e comportamento imprevis√≠vel.
                </p>
              </section>
              <!--Slide 21 Renderizar e Confirmar-->
              <section>
                <h2>Etapa 3: Confirmar as Altera√ß√µes no DOM</h2>
                <p>
                  Depois de renderizar os componentes, o React modifica o DOM:
                </p>
                <ul>
                  <li>
                    Para a renderiza√ß√£o inicial, ele usa <code>appendChild()</code> para adicionar os n√≥s DOM criados √† tela.
                  </li>
                  <li>
                    Para re-renderiza√ß√µes, o React aplica as m√≠nimas mudan√ßas necess√°rias para sincronizar o DOM com a sa√≠da de renderiza√ß√£o.
                  </li>
                </ul>
              </section>
                <!--Slide 22 Renderizar e Confirmar-->
              <section>
                <h2>Exemplo: Re-renderiza√ß√£o Controlada</h2>
                <p>
                  O React re-renderiza apenas as partes do DOM que mudaram:
                </p>
                <pre data-id="code-animation"><code class="hljs javascript" data-trim ><script type="text/template">
              export default function Clock({ time }) {
                return (
                  <>
                    <h1>{time}</h1>
                    <input />
                  </>
                );
              }
            </script></code></pre>
                <p>
                  O React atualiza apenas o conte√∫do do <code>&lt;h1&gt;</code> com o novo <code>time</code>, mas n√£o toca no <code>&lt;input&gt;</code>.
                </p>
              </section>
              <!--Slide 23 Renderizar e Confirmar-->
              <section>
                <h2>Ep√≠logo: Pintura do Navegador</h2>
                <p>
                  Ap√≥s o React modificar o DOM, o navegador "pinta" as altera√ß√µes na tela. 
                  Esse processo √© conhecido como renderiza√ß√£o do navegador ou "pintura".
                </p>
              </section>
        </div>
    </div>



    <script src="../../../reveal.js-master/dist/reveal.js"></script>
    <script src="../../../reveal.js-master/plugin/zoom/zoom.js"></script>
    <script src="../../../reveal.js-master/plugin/zoom/zoom.js"></script>
    <script src="../../../reveal.js-master/plugin/notes/notes.js"></script>
    <script src="../../../reveal.js-master/plugin/search/search.js"></script>
    <script src="../../../reveal.js-master/plugin/markdown/markdown.js"></script>
    <script src="../../../reveal.js-master/plugin/highlight/highlight.js"></script>
    <script>
        Reveal.initialize({
            controls: true,
            progress: true,
            center: true,
            hash: true,
            plugins: [RevealZoom, RevealNotes, RevealSearch, RevealMarkdown, RevealHighlight]
        });
    </script>
</body>