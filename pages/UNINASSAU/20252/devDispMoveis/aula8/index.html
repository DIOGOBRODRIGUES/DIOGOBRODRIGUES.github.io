<!doctype html>
<html lang="pt-BR">

<head>
  <meta charset="utf-8">
  <title>Aula 8 - Sensores do Dispositivo Mobile</title>

  <meta name="description" content="Geolocaliza√ß√£o, c√¢mera, aceler√¥metro e biometria em React Native">
  <meta name="author" content="Prof. Dr. Diogo Francisco Borba Rodrigues">

  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link rel="stylesheet" href="../../../../../reveal.js-master/dist/reset.css">
  <link rel="stylesheet" href="../../../../../reveal.js-master/dist/reveal.css">
  <link rel="stylesheet" href="../../../../../reveal.js-master/dist/theme/dracula.css" id="theme">

  <!-- Syntax Highlighting -->
  <link rel="stylesheet" href="../../../../../reveal.js-master/plugin/highlight/monokai.css">

</head>

<body>
 
  <div class="reveal">
    <div class="slides">
      <!-- Slide 1 - T√≠tulo da Aula -->
      <section>
        <p>üèõÔ∏è Centro Universit√°rio Maur√≠cio de Nassau</p>
        <h3>Aula 8 - Sensores do Dispositivo Mobile</h3>
        <p><strong>Geolocaliza√ß√£o, C√¢mera, Aceler√¥metro e Biometria</strong></p>
        <p>Prof. Dr. Diogo Francisco Borba Rodrigues</p>
        <a href="https://www.linkedin.com/in/diogo-francisco-borba-rodrigues-3a1b5179/" target="_blank">
          <i class="fab fa-linkedin"></i>
        </a>
        <a href="https://github.com/DIOGOBRODRIGUES" target="_blank">
          <i class="fab fa-github"></i>
        </a>
      </section>

      <!-- Slide 2 - Objetivos -->
      <section>
        <h3>üéØ Objetivos da Aula</h3>
        <ul>
          <li class="fragment">Entender os sensores dispon√≠veis em dispositivos m√≥veis</li>
          <li class="fragment">Usar Geolocaliza√ß√£o (GPS)</li>
          <li class="fragment">Integrar C√¢mera e Galeria de Fotos</li>
          <li class="fragment">Trabalhar com Aceler√¥metro e Girosc√≥pio</li>
          <li class="fragment">Implementar Autentica√ß√£o Biom√©trica</li>
          <li class="fragment">Criar apps que interagem com o hardware do dispositivo</li>
        </ul>
      </section>

      <!-- Slide 3 - O que s√£o Sensores? -->
      <section>
        <h3>üì° O que s√£o Sensores?</h3>
        <p><strong>Sensores s√£o componentes do dispositivo que capturam dados do mundo real:</strong></p>
        <ul>
          <li class="fragment"><strong>GPS (Geolocaliza√ß√£o):</strong> Localiza√ß√£o por sat√©lite</li>
          <li class="fragment"><strong>C√¢mera:</strong> Captura de imagens e v√≠deos</li>
          <li class="fragment"><strong>Aceler√¥metro:</strong> Detecta movimento e acelera√ß√£o</li>
          <li class="fragment"><strong>Girosc√≥pio:</strong> Detecta rota√ß√£o do dispositivo</li>
          <li class="fragment"><strong>Magnet√¥metro:</strong> Funciona como b√∫ssola</li>
          <li class="fragment"><strong>Sensores de Luz e Proximidade:</strong> Ambiente</li>
          <li class="fragment"><strong>Biometria:</strong> Impress√£o digital, Face ID</li>
        </ul>
      </section>

      <!-- Slide 4 - Permiss√µes no React Native -->
      <section>
        <h3>üîê Permiss√µes em React Native</h3>
        <p><strong>Para acessar sensores, precisamos de permiss√µes:</strong></p>
        <pre><code class="language-json">{
  "expo": {
    "plugins": [
      [
        "expo-location",
        {
          "locationAlwaysAndWhenInUsePermissions": "allow"
        }
      ],
      [
        "expo-camera",
        {
          "cameraPermission": "Allow $(PRODUCT_NAME) to access your camera"
        }
      ]
    ]
  }
}</code></pre>
        <p><small>Configurar no app.json do Expo</small></p>
      </section>

      <!-- Slide 5 - Geolocaliza√ß√£o: Instala√ß√£o -->
      <section>
        <h3>üìç Geolocaliza√ß√£o: Instala√ß√£o</h3>
        <pre><code class="language-bash"># Instalar Expo Location
expo install expo-location</code></pre>
        <p><strong>Ou com npm:</strong></p>
        <pre><code class="language-bash">npm install expo-location</code></pre>
      </section>

      <!-- Slide 6 - Geolocaliza√ß√£o: Uso B√°sico -->
      <section>
        <h3>üìç Geolocaliza√ß√£o: C√≥digo B√°sico</h3>
        <pre><code class="language-javascript">import * as Location from 'expo-location';
import { useState, useEffect } from 'react';

export default function LocationScreen() {
  const [location, setLocation] = useState(null);
  const [errorMsg, setErrorMsg] = useState(null);

  useEffect(() => {
    (async () => {
      // Solicitar permiss√£o
      let { status } = await Location.requestForegroundPermissionsAsync();
      if (status !== 'granted') {
        setErrorMsg('Permiss√£o de localiza√ß√£o n√£o concedida');
        return;
      }

      // Obter localiza√ß√£o atual
      let loc = await Location.getCurrentPositionAsync({});
      setLocation(loc);
    })();
  }, []);

  return (
    &lt;&gt;
      {location && (
        &lt;Text&gt;
          Latitude: {location.coords.latitude}
          {"\n"}
          Longitude: {location.coords.longitude}
        &lt;/Text&gt;
      )}
    &lt;/&gt;
  );
}</code></pre>
      </section>

      <!-- Slide 7 - Geolocaliza√ß√£o: Exemplo Pr√°tico -->
      <section>
        <h3>üìç Exemplo Pr√°tico: App de Localiza√ß√£o</h3>
        <pre><code class="language-javascript">import * as Location from 'expo-location';
import { View, Text, Button, StyleSheet } from 'react-native';

export default function LocationApp() {
  const [location, setLocation] = useState(null);
  const [address, setAddress] = useState('');

  const getLocation = async () => {
    try {
      const { status } = await Location.requestForegroundPermissionsAsync();
      if (status !== 'granted') return;

      const loc = await Location.getCurrentPositionAsync();
      setLocation(loc.coords);

      // Reverter coordenadas para endere√ßo
      const [reverseGeo] = await Location.reverseGeocodeAsync({
        latitude: loc.coords.latitude,
        longitude: loc.coords.longitude,
      });

      setAddress(
        `${reverseGeo.street}, ${reverseGeo.city} - ${reverseGeo.region}`
      );
    } catch (error) {
      console.error('Erro:', error);
    }
  };

  return (
    &lt;View style={styles.container}&gt;
      &lt;Button title="üìç Obter Localiza√ß√£o" onPress={getLocation} /&gt;
      {address && &lt;Text style={styles.text}&gt;{address}&lt;/Text&gt;}
    &lt;/View&gt;
  );
}</code></pre>
      </section>

      <!-- Slide 8 - C√¢mera: Instala√ß√£o -->
      <section>
        <h3>üì∑ C√¢mera: Instala√ß√£o</h3>
        <pre><code class="language-bash"># Instalar Expo Image Picker
expo install expo-image-picker

# Ou Expo Camera para controle mais avan√ßado
expo install expo-camera</code></pre>
        <p><strong>Image Picker:</strong> Selecionar foto da galeria ou c√¢mera</p>
        <p><strong>Camera:</strong> Controle completo da c√¢mera</p>
      </section>

      <!-- Slide 9 - C√¢mera: Image Picker -->
      <section>
        <h3>üì∑ C√¢mera: Usando Image Picker</h3>
        <pre><code class="language-javascript">import * as ImagePicker from 'expo-image-picker';
import { View, Image, Button } from 'react-native';
import { useState } from 'react';

export default function PhotoApp() {
  const [photo, setPhoto] = useState(null);

  const pickImage = async () => {
    // Solicitar permiss√£o
    const { status } = await ImagePicker.requestMediaLibraryPermissionsAsync();
    if (status !== 'granted') return;

    // Selecionar imagem
    const result = await ImagePicker.launchImageLibraryAsync({
      mediaTypes: ImagePicker.MediaTypeOptions.Images,
      allowsEditing: true,
      aspect: [4, 3],
      quality: 1,
    });

    if (!result.cancelled) {
      setPhoto(result.uri);
    }
  };

  const takePhoto = async () => {
    const { status } = await ImagePicker.requestCameraPermissionsAsync();
    if (status !== 'granted') return;

    const result = await ImagePicker.launchCameraAsync({
      allowsEditing: true,
      aspect: [4, 3],
      quality: 1,
    });

    if (!result.cancelled) {
      setPhoto(result.uri);
    }
  };

  return (
    &lt;View&gt;
      &lt;Button title="üì∏ Tirar Foto" onPress={takePhoto} /&gt;
      &lt;Button title="üñºÔ∏è Galeria" onPress={pickImage} /&gt;
      {photo && &lt;Image source={{ uri: photo }} style={{ width: 200, height: 200 }} /&gt;}
    &lt;/View&gt;
  );
}</code></pre>
      </section>

      <!-- Slide 10 - Aceler√¥metro: Instala√ß√£o -->
      <section>
        <h3>üìä Aceler√¥metro: Instala√ß√£o</h3>
        <pre><code class="language-bash"># Expo Sensors (aceler√¥metro, girosc√≥pio, magnet√¥metro)
expo install expo-sensors</code></pre>
        <p><strong>O que voc√™ pode fazer:</strong></p>
        <ul>
          <li>Detectar movimento do dispositivo</li>
          <li>Contar passos</li>
          <li>Detectar "shake" (agitar o dispositivo)</li>
          <li>Jogos com movimenta√ß√£o</li>
        </ul>
      </section>

      <!-- Slide 11 - Aceler√¥metro: C√≥digo B√°sico -->
      <section>
        <h3>üìä Aceler√¥metro: Detectar Shake</h3>
        <pre><code class="language-javascript">import { Accelerometer } from 'expo-sensors';
import { useState, useEffect } from 'react';
import { View, Text } from 'react-native';

export default function AccelerometerApp() {
  const [shake, setShake] = useState(false);
  const [data, setData] = useState({ x: 0, y: 0, z: 0 });

  useEffect(() => {
    // Definir taxa de atualiza√ß√£o (padr√£o: 100ms)
    Accelerometer.setUpdateInterval(100);

    // Ouvir mudan√ßas
    const subscription = Accelerometer.addListener(({ x, y, z }) => {
      setData({ x, y, z });

      // Detectar shake (movimenta√ß√£o r√°pida)
      const total = Math.sqrt(x * x + y * y + z * z);
      if (total > 3) {
        setShake(true);
        setTimeout(() => setShake(false), 500);
      }
    });

    return () => subscription.remove();
  }, []);

  return (
    &lt;View&gt;
      &lt;Text&gt;X: {data.x.toFixed(2)}&lt;/Text&gt;
      &lt;Text&gt;Y: {data.y.toFixed(2)}&lt;/Text&gt;
      &lt;Text&gt;Z: {data.z.toFixed(2)}&lt;/Text&gt;
      {shake && &lt;Text style={{ fontSize: 24 }}&gt;üéâ SHAKE!&lt;/Text&gt;}
    &lt;/View&gt;
  );
}</code></pre>
      </section>

      <!-- Slide 12 - Biometria: Instala√ß√£o -->
      <section>
        <h3>üîê Biometria: Instala√ß√£o</h3>
        <pre><code class="language-bash"># Expo Local Authentication (fingerprint, face ID)
expo install expo-local-authentication</code></pre>
        <p><strong>Funcionalidades:</strong></p>
        <ul>
          <li>Impress√£o Digital (Touch ID)</li>
          <li>Face ID (reconhecimento facial)</li>
          <li>Autentica√ß√£o por dispositivo</li>
          <li>Seguran√ßa biom√©trica</li>
        </ul>
      </section>

      <!-- Slide 13 - Biometria: C√≥digo -->
      <section>
        <h3>üîê Biometria: C√≥digo B√°sico</h3>
        <pre><code class="language-javascript">import * as LocalAuthentication from 'expo-local-authentication';
import { useState } from 'react';
import { View, Button, Text } from 'react-native';

export default function BiometryApp() {
  const [authenticated, setAuthenticated] = useState(false);

  const authenticate = async () => {
    try {
      // Verificar disponibilidade
      const compatible = await LocalAuthentication.hasHardwareAsync();
      if (!compatible) {
        alert('Dispositivo n√£o suporta biometria');
        return;
      }

      // Verificar sensores dispon√≠veis
      const types = await LocalAuthentication.supportedAuthenticationTypesAsync();
      console.log('Tipos:', types);

      // Autenticar
      const result = await LocalAuthentication.authenticateAsync({
        reason: 'Autentique para acessar o app',
        fallbackLabel: 'Use c√≥digo PIN',
        disableDeviceFallback: false,
      });

      setAuthenticated(result.success);
    } catch (error) {
      console.error('Erro:', error);
    }
  };

  return (
    &lt;View&gt;
      &lt;Button title="üîê Autenticar" onPress={authenticate} /&gt;
      {authenticated && &lt;Text&gt;‚úÖ Autenticado com sucesso!&lt;/Text&gt;}
    &lt;/View&gt;
  );
}</code></pre>
      </section>

      <!-- Slide 14 - Notifica√ß√µes Locais -->
      <section>
        <h3>üîî Notifica√ß√µes Locais</h3>
        <pre><code class="language-bash">expo install expo-notifications</code></pre>
        <pre><code class="language-javascript">import * as Notifications from 'expo-notifications';
import { Button } from 'react-native';

export default function NotificationApp() {
  const sendNotification = async () => {
    await Notifications.scheduleNotificationAsync({
      content: {
        title: 'Ol√°! üëã',
        body: 'Esta √© uma notifica√ß√£o local',
        data: { screen: 'details' },
      },
      trigger: { seconds: 2 },
    });
  };

  return &lt;Button title="Enviar Notifica√ß√£o" onPress={sendNotification} /&gt;;
}</code></pre>
      </section>

      <!-- Slide 15 - Exemplo Completo: App de Localiza√ß√£o com Foto -->
      <section>
        <h3>üéØ Projeto: App de Check-in</h3>
        <p><strong>Combinando Geolocaliza√ß√£o + C√¢mera</strong></p>
        <pre><code class="language-javascript">import * as Location from 'expo-location';
import * as ImagePicker from 'expo-image-picker';
import { View, Button, Image, Text, StyleSheet } from 'react-native';
import { useState } from 'react';

export default function CheckInApp() {
  const [checkin, setCheckin] = useState(null);

  const makeCheckin = async () => {
    try {
      // 1. Obter localiza√ß√£o
      const { status } = await Location.requestForegroundPermissionsAsync();
      if (status !== 'granted') return;

      const location = await Location.getCurrentPositionAsync();
      const [address] = await Location.reverseGeocodeAsync({
        latitude: location.coords.latitude,
        longitude: location.coords.longitude,
      });

      // 2. Tirar foto
      const { status: camStatus } = 
        await ImagePicker.requestCameraPermissionsAsync();
      if (camStatus !== 'granted') return;

      const photo = await ImagePicker.launchCameraAsync();
      if (!photo.cancelled) {
        setCheckin({
          photo: photo.uri,
          address: `${address.street}, ${address.city}`,
          coords: {
            lat: location.coords.latitude,
            lng: location.coords.longitude,
          },
          time: new Date().toLocaleTimeString(),
        });
      }
    } catch (error) {
      console.error('Erro:', error);
    }
  };

  return (
    &lt;View style={styles.container}&gt;
      &lt;Button title="‚úÖ Fazer Check-in" onPress={makeCheckin} /&gt;
      {checkin && (
        &lt;&gt;
          &lt;Image source={{ uri: checkin.photo }} style={styles.image} /&gt;
          &lt;Text&gt;{checkin.address}&lt;/Text&gt;
          &lt;Text&gt;{checkin.time}&lt;/Text&gt;
        &lt;/&gt;
      )}
    &lt;/View&gt;
  );
}

const styles = StyleSheet.create({
  container: { flex: 1, padding: 20 },
  image: { width: 200, height: 200, marginTop: 10 },
});</code></pre>
      </section>

      <!-- Slide 16 - Boas Pr√°ticas -->
      <section>
        <h3>‚úÖ Boas Pr√°ticas</h3>
        <ul>
          <li class="fragment">‚úì Sempre solicitar permiss√£o antes de usar sensores</li>
          <li class="fragment">‚úì Tratar erros adequadamente</li>
          <li class="fragment">‚úì Fazer limpeza (remover listeners)</li>
          <li class="fragment">‚úì Informar o usu√°rio sobre o que est√° sendo coletado</li>
          <li class="fragment">‚úì Usar sensores apenas quando necess√°rio (economia de bateria)</li>
          <li class="fragment">‚úì Testar em dispositivo real quando poss√≠vel</li>
          <li class="fragment">‚úì Documentar quais sensores seu app usa</li>
        </ul>
      </section>

      <!-- Slide 17 - Refer√™ncias -->
      <section>
        <h3>üìö Refer√™ncias</h3>
        <ul>
          <li><a href="https://docs.expo.dev/versions/latest/sdk/location/" target="_blank">Expo Location</a></li>
          <li><a href="https://docs.expo.dev/versions/latest/sdk/camera/" target="_blank">Expo Camera</a></li>
          <li><a href="https://docs.expo.dev/versions/latest/sdk/image-picker/" target="_blank">Expo Image Picker</a></li>
          <li><a href="https://docs.expo.dev/versions/latest/sdk/sensors/" target="_blank">Expo Sensors</a></li>
          <li><a href="https://docs.expo.dev/versions/latest/sdk/local-authentication/" target="_blank">Expo Local Authentication</a></li>
          <li><a href="https://docs.expo.dev/versions/latest/sdk/notifications/" target="_blank">Expo Notifications</a></li>
        </ul>
      </section>

      <!-- Slide 18 - Atividade Pr√°tica -->
      <section>
        <h3>üíª Atividade Pr√°tica</h3>
        <p><strong>Crie um app que:</strong></p>
        <ol>
          <li class="fragment">Obt√©m a localiza√ß√£o atual do usu√°rio</li>
          <li class="fragment">Tira uma foto com a c√¢mera</li>
          <li class="fragment">Monitora o aceler√¥metro</li>
          <li class="fragment">Salva tudo em um estado React</li>
          <li class="fragment">Exibe os dados na tela</li>
        </ol>
        <p class="fragment"><strong>Desafio extra:</strong> Adicione autentica√ß√£o biom√©trica!</p>
      </section>

      <!-- Slide 19 - Perguntas -->
      <section>
        <h3>‚ùì Perguntas?</h3>
        <p><strong>D√∫vidas sobre sensores em React Native?</strong></p>
        <p>Entre em contato:</p>
        <p>
          <i class="fab fa-linkedin"></i> <a href="https://www.linkedin.com/in/diogo-francisco-borba-rodrigues-3a1b5179/" target="_blank">LinkedIn</a><br>
          <i class="fab fa-github"></i> <a href="https://github.com/DIOGOBRODRIGUES" target="_blank">GitHub</a>
        </p>
      </section>

    </div>
  </div>

  <script src="../../../../../reveal.js-master/dist/reveal.js"></script>
  <script src="../../../../../reveal.js-master/plugin/zoom/zoom.js"></script>
  <script src="../../../../../reveal.js-master/plugin/notes/notes.js"></script>
  <script src="../../../../../reveal.js-master/plugin/search/search.js"></script>
  <script src="../../../../../reveal.js-master/plugin/markdown/markdown.js"></script>
  <script src="../../../../../reveal.js-master/plugin/highlight/highlight.js"></script>
  <script>
    Reveal.initialize({
      hash: true,
      slideNumber: true,
      transition: 'slide',
      backgroundTransition: 'fade',
      plugins: [RevealZoom, RevealNotes, RevealSearch, RevealMarkdown, RevealHighlight]
    });
  </script>
</body>

</html>
